---
phase: 05-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
autonomous: true
requirements:
  - DOCS-01
  - DOCS-02

must_haves:
  truths:
    - "README documents Semgrep, Dependency-Check, Trivy, Scorecard, and ZAP with what each scans"
    - "README explains where findings appear (GitHub Security tab)"
    - "README explains how to interpret findings and access them"
    - "Documentation mentions NVD_API_KEY setup for Dependency-Check"
    - "Documentation is concise and practical (not a wall of text)"
  artifacts:
    - path: "README.md"
      provides: "Security Tools section documenting all five scanning tools"
      contains: "## Security Tools"
  key_links:
    - from: "README.md Security Tools section"
      to: "GitHub Security tab"
      via: "Instructions explaining repository Security tab navigation"
      pattern: "Security.*tab"
    - from: "README.md Security Tools section"
      to: "NVD_API_KEY setup"
      via: "Instructions for optional API key configuration"
      pattern: "NVD_API_KEY"
---

<objective>
Document all five security scanning tools in README.md with concise descriptions of what they scan, where findings appear, and how to interpret results.

Purpose: Enable developers and stakeholders to understand the security scanning infrastructure built in Phases 1-4 without reading workflow YAML files or hunting through GitHub UI.

Output: Updated README.md with new "Security Tools" section between "Security" heading and "Authentication" heading, documenting Semgrep, Dependency-Check, Trivy, Scorecard, and ZAP.
</objective>

<execution_context>
@/Users/joe/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joe/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-sast/01-01-SUMMARY.md
@.planning/phases/02-sca-repository-health/02-01-SUMMARY.md
@.planning/phases/02-sca-repository-health/02-02-SUMMARY.md
@README.md
@.github/workflows/security.yaml
@.github/workflows/scorecard.yaml
@.github/workflows/ci.yaml
@.planning/phases/04-dast/04-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Add Security Tools section to README.md</name>
  <files>README.md</files>
  <action>
Add a new "## Security Tools" section to README.md after line 58 (after "### Security" heading but before "## Authentication" heading at line 59).

The section should be concise and practical, structured as:

```markdown
### Security Tools

Maxwell's Wallet uses five automated security scanning tools that run in CI and report findings to the [GitHub Security tab](https://github.com/poindexter12/maxwells-wallet/security/code-scanning):

| Tool | Scans | Frequency | Category |
|------|-------|-----------|----------|
| **Semgrep** | Static code analysis (Python + TypeScript) | Every PR, push to main, nightly | `semgrep` |
| **OWASP Dependency-Check** | Dependency vulnerabilities (npm + pip) via NVD database | Push to main, nightly | `dependency-check` |
| **OpenSSF Scorecard** | Repository security posture (branch protection, dependency updates, code review) | Push to main, weekly | `scorecard` |
| **Trivy** | Container image vulnerabilities (OS packages + app dependencies) | Every PR, push to main | `trivy-container` |
| **OWASP ZAP** | Dynamic application security testing (XSS, CSRF, security headers) | Push to main | `zap` |

**Accessing Findings:**

1. Navigate to repository **Security** tab → **Code scanning** in left sidebar
2. Filter by tool using the **Category** dropdown (e.g., "semgrep", "dependency-check")
3. Each finding shows severity, description, affected file/line, and remediation guidance
4. ZAP also produces downloadable HTML/Markdown reports in CI artifacts

**Optional Setup:**

For faster Dependency-Check scans, configure an NVD API key (free from [NVD](https://nvd.nist.gov/developers/request-an-api-key)):

```bash
# Add to repository secrets
gh secret set NVD_API_KEY --body "your-api-key-here"
```

Without the API key, Dependency-Check still works but may hit rate limits on large scans.

**Philosophy:**

All security scans are **non-blocking** — they inform but never block development. Findings appear in the Security tab for review, but builds and deployments proceed regardless of scan results.
```

IMPORTANT implementation notes:
- Insert at line 59 (after "### Security" heading, before "## Authentication")
- Preserve existing content exactly (don't modify authentication docs, features, installation, etc.)
- Use exact table format shown above (aligns with concise, scannable presentation)
- Link to actual GitHub Security tab URL (replace org/repo if needed: https://github.com/poindexter12/maxwells-wallet/security/code-scanning)
- Keep tone consistent with existing README (direct, practical, no marketing fluff)
- Note that ZAP workflow doesn't exist yet (Phase 4 not executed) but will exist when user runs this plan
  </action>
  <verify>
```bash
# Verify section exists
grep -q "## Security Tools" README.md || echo "ERROR: Security Tools section not found"

# Verify all five tools documented
grep -q "Semgrep" README.md && echo "✓ Semgrep documented"
grep -q "OWASP Dependency-Check" README.md && echo "✓ Dependency-Check documented"
grep -q "OpenSSF Scorecard" README.md && echo "✓ Scorecard documented"
grep -q "Trivy" README.md && echo "✓ Trivy documented"
grep -q "OWASP ZAP" README.md && echo "✓ ZAP documented"

# Verify GitHub Security tab link
grep -q "security/code-scanning" README.md && echo "✓ Security tab link present"

# Verify NVD_API_KEY setup documented
grep -q "NVD_API_KEY" README.md && echo "✓ NVD API key setup documented"

# Verify categories mentioned
grep -q "semgrep.*dependency-check.*scorecard.*trivy-container.*zap" README.md && echo "✓ All categories documented"

# Verify section placement (after Security heading, before Authentication)
SECURITY_LINE=$(grep -n "### Security" README.md | head -1 | cut -d: -f1)
TOOLS_LINE=$(grep -n "### Security Tools" README.md | head -1 | cut -d: -f1)
AUTH_LINE=$(grep -n "## Authentication" README.md | head -1 | cut -d: -f1)

if [ "$TOOLS_LINE" -gt "$SECURITY_LINE" ] && [ "$TOOLS_LINE" -lt "$AUTH_LINE" ]; then
  echo "✓ Section positioned correctly (after Security, before Authentication)"
else
  echo "ERROR: Section in wrong location"
fi
```
  </verify>
  <done>
README.md contains new "Security Tools" section that:
- Documents all five tools (Semgrep, Dependency-Check, Scorecard, Trivy, ZAP)
- Explains what each tool scans and how frequently it runs
- Provides GitHub Security tab link and instructions for accessing findings
- Documents optional NVD_API_KEY setup
- Explains non-blocking philosophy
- Is positioned after "### Security" and before "## Authentication"
- Uses concise table format for scannability
  </done>
</task>

<task type="auto">
  <name>Verify documentation accuracy against actual workflows</name>
  <files>README.md</files>
  <action>
Validate that the Security Tools section accurately reflects the actual workflow implementations by cross-referencing with workflow files:

1. **Verify Semgrep configuration:**
   - Read .github/workflows/security.yaml semgrep job
   - Confirm: scans TypeScript and Python (--config auto)
   - Confirm: runs on PRs and main pushes (via ci.yaml and nightly.yaml calls)
   - Confirm: category is 'semgrep'

2. **Verify Dependency-Check configuration:**
   - Read .github/workflows/security.yaml dependency-check job
   - Confirm: scans npm (package-lock.json) and pip (requirements.txt)
   - Confirm: uses NVD database with caching
   - Confirm: category is 'dependency-check'
   - Confirm: NVD_API_KEY is optional secret

3. **Verify Scorecard configuration:**
   - Read .github/workflows/scorecard.yaml
   - Confirm: runs on push to main and weekly schedule
   - Confirm: category is 'scorecard'
   - Confirm: assesses repository security posture

4. **Verify Trivy configuration:**
   - Read .github/workflows/ci.yaml docker job
   - Confirm: scans container image after build
   - Confirm: category is 'trivy-container'
   - Confirm: runs on PRs and main pushes

5. **Verify ZAP configuration:**
   - Read .planning/phases/04-dast/04-01-PLAN.md (workflow not executed yet)
   - Confirm: will run baseline scan on main pushes
   - Confirm: will produce HTML/Markdown/SARIF reports
   - Confirm: category will be 'zap'

If any discrepancies found between documentation and actual workflow files:
- Update README.md to match reality
- Document the correction in task output

NO changes expected if documentation is accurate. This task is primarily verification.
  </action>
  <verify>
```bash
# Cross-reference each tool's category in workflows vs README

echo "Checking Semgrep..."
grep -q "category: semgrep" .github/workflows/security.yaml && \
grep -q "semgrep" README.md && echo "✓ Semgrep category matches"

echo "Checking Dependency-Check..."
grep -q "category: dependency-check" .github/workflows/security.yaml && \
grep -q "dependency-check" README.md && echo "✓ Dependency-Check category matches"

echo "Checking Scorecard..."
grep -q "category: scorecard" .github/workflows/scorecard.yaml && \
grep -q "scorecard" README.md && echo "✓ Scorecard category matches"

echo "Checking Trivy..."
grep -q "category: trivy-container" .github/workflows/ci.yaml && \
grep -q "trivy-container" README.md && echo "✓ Trivy category matches"

echo "Checking ZAP..."
# ZAP workflow doesn't exist yet, verify plan mentions 'zap' category
grep -q "category: zap" .planning/phases/04-dast/04-01-PLAN.md && \
grep -q "zap" README.md && echo "✓ ZAP category documented (workflow pending)"

# Verify NVD_API_KEY is actually used in Dependency-Check
grep -q "NVD_API_KEY" .github/workflows/security.yaml && echo "✓ NVD_API_KEY usage confirmed"

# Verify Trivy scans image (not filesystem)
grep -q "scan-type: 'image'" .github/workflows/ci.yaml && echo "✓ Trivy scan-type confirmed"

echo "Documentation accuracy verification complete"
```
  </verify>
  <done>
Documentation accuracy verified:
- All five tools' categories match actual workflow configurations
- Scan types and frequencies accurately reflect workflow triggers
- NVD_API_KEY optional setup matches security.yaml implementation
- Tool descriptions accurately reflect what each tool scans
- GitHub Security tab link is correct
- No corrections needed (or corrections documented if any discrepancies found)
  </done>
</task>

</tasks>

<verification>
After implementation:
1. README.md contains "### Security Tools" section after "### Security" heading
2. Section documents all five tools in table format
3. Each tool lists: what it scans, frequency, and category identifier
4. Section explains how to access findings in GitHub Security tab
5. Section documents optional NVD_API_KEY setup
6. Section explains non-blocking philosophy
7. Documentation matches actual workflow implementations
8. No existing README content was modified (only insertion)
9. Markdown formatting is valid
</verification>

<success_criteria>
- README.md updated with Security Tools section covering all five tools
- Documentation is concise and practical (table format, clear instructions)
- Explains GitHub Security tab access and SARIF category filtering
- Documents NVD_API_KEY optional setup
- Accurately reflects workflow implementations from Phases 1-4
- File committed with conventional commit message
</success_criteria>

<output>
After completion, create `.planning/phases/05-documentation/05-01-SUMMARY.md` with:
- One-liner: "README.md Security Tools section documents all five scanning tools with access instructions"
- Section content and structure
- Verification results (cross-referencing with workflow files)
- Requirements satisfied (DOCS-01, DOCS-02)
- Deviations (if any)
- Self-check confirming README.md modification
</output>
